<html>
  <head>
    <script src="../vendor/p5.min.js"></script>
    <script src="twig.js"></script>
  </head>
  <body>
    <main>
    </main>

    <script>
        function setup() {

            // Don't use var !!!!!!!
            twig = initializeTwig();
            twig.root.printTree();

            background = twig.root.widget;
            //console.log(background)

            createCanvas(background.width, background.height);

            
            const iterator = new TwigNodeIterator(twig.root, (depthChange) => {
                console.log(`Depth change: ${depthChange}`);
            });

            
            while (iterator.hasNext()) {
                var node = iterator.next().value;
                var widget = node.widget
                
                

                switch (widget.type){
                    case "TEMPLATE":

                        console.log(widget)
                        fill(random(255), random(255), random(255));

                        console.log(widget.posX, widget.posY, widget.width, widget.height);

                        //rect(0,0,100,100)
                        rect(widget.posX, widget.posY, widget.width, widget.height);
                        break;
                }
                    

            }
        }

        function draw() {

         

            //background(220);
        }
    </script>
  </body>
</html>;;